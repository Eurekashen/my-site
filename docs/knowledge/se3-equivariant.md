!!! Note "Equivariance and Invariance"
    * 等变性（Equivariance）：
        * 定义： 如果一个函数（或者一个系统）在输入数据变换的情况下，其输出按照相同的变换方式发生相应的变化，那么这个函数是等变的。
        * 例子： 在计算机视觉中，如果一个神经网络对于图像的旋转等变，即输入图像旋转后，网络的输出也相应地以相同的方式旋转，那么这个网络在旋转方面是等变的。
    * 不变性（Invariance）：
        * 定义： 如果一个函数（或者一个系统）在输入数据变换的情况下，其输出保持不变，即不受输入数据变换的影响，那么这个函数是不变的。
        * 例子： 在图像识别中，如果一个分类器对于图像的平移是不变的，即输入图像平移后，分类器对于图像的分类结果保持不变，那么这个分类器在平移方面是不变的。对于蛋白质设计中的Inverse folding任务来说，输入一个蛋白质三维结构要输出对应的序列。如果这个三维结构发生了旋转或者平移的话，输出的序列应该是不会发生变化的——也就是说网络需要满足SE(3)等变性。

!!! summary
    ==**等变性： 输出会按照输入的变换方式进行相应的变化。**==
    ==**不变性： 输出在输入变换的情况下保持不变。**==

!!! Note SE(3)等变性。

    SE(3)等变性（Special Euclidean Group of Three-dimensional transformations）是指在三维空间中的特殊欧几里德群，它描述了空间中刚体的运动和旋转。SE(3)等变性在计算机视觉、机器人学和计算机图形学等领域中具有重要的应用。

    SE(3)等变性包括平移和旋转两种变换。具体而言，SE(3)等变性可以表示为一个4x4的矩阵，其中前三行前三列是旋转矩阵，第四列是平移向量。SE(3)中的变换可以表示为：
    $$
    T = \begin{bmatrix}
    R & t \\
    0 & 1
    \end{bmatrix}
    $$
    其中，$R$ 是一个3x3的旋转矩阵，$t$ 是一个3维的平移向量，而矩阵的最后一行是$ 0 \, 0 \, 0 \, 1$ ，用于保持矩阵的封闭性。

!!! example
    在蛋白质的结构表示中，对于一个$\alpha$碳原子和周围碳原子连接的一个向量$\vec{a}$，会使用一个在global frame下的基矢表示:
    $$
    \vec{a}=a_1\vec{x}+a_2\vec{y}+a_3\vec{z}
    $$
    在蛋白质的三维结构在空间中发生移动和旋转的时候，对应这组$(a_1,a_2,a_3)$也会发生对应的变化，但是在满足SE(3)不变性的神经网络中，输出结果是不应该发生变化的。


在Diffusion过程中会出现这样的问题：我们在结构上加了均值为0、方差为1的高斯噪声，但是由于采样的不充分，采样出的结构上的高斯噪声的均值就不再为0了。这相当于把整个蛋白质的三维结构平移了——但是网络是一个不变网络，没有办法编码这一部分平移的信息，所以对应的监督信号受到了干扰，和正确的监督信号不匹配了。举个例子，原始的监督信号（Ground truth）是$G$，不充分采样导致平移之后的结果是$G_1$，但是由于网络的不变性还是认为Ground truth是原始的$G$——target不匹配。

